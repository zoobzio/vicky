# =============================================================================
# Vicky â€” Environment Variables
# =============================================================================
# Copy this file to .env and fill in the required values.
#
# In development, docker-compose provides infrastructure vars (database, redis,
# storage, indexers, observability) automatically. Only the variables in the
# first section below need to be set in your .env file.
#
# In production, all variables must be configured.

# =============================================================================
# Developer-provided (not supplied by docker-compose)
# =============================================================================

# Session signing key [required]
SESSION_SIGN_KEY=

# --- GitHub OAuth ---
GITHUB_CLIENT_ID=                     # [required]
GITHUB_CLIENT_SECRET=                 # [required]
GITHUB_REDIRECT_URI=                  # [required] e.g. http://localhost:8080/auth/github/callback

# --- Embedding ---
# Supported providers: stub, voyage, openai, gemini, cohere
VICKY_EMBEDDING_PROVIDER=stub
VICKY_EMBEDDING_MODEL=voyage-code-3
VICKY_EMBEDDING_DIMENSIONS=1024
VICKY_EMBEDDING_API_KEY=              # [required when provider != stub]

# =============================================================================
# Infrastructure (provided by docker-compose in development)
# =============================================================================
# The values below are set automatically when running via docker-compose.
# Override them here for local (non-Docker) development or production.

# --- Application ---
VICKY_PORT=8080

# --- Database (PostgreSQL) ---
VICKY_DB_HOST=localhost
VICKY_DB_PORT=5432
VICKY_DB_NAME=vicky
VICKY_DB_USER=vicky
VICKY_DB_PASSWORD=                    # [required]
VICKY_DB_SSLMODE=disable

# --- Redis ---
VICKY_REDIS_ADDR=localhost:6379
VICKY_REDIS_PASSWORD=
VICKY_REDIS_DB=0

# --- Object Storage (S3-compatible / MinIO) ---
VICKY_STORAGE_ENDPOINT=localhost:9000
VICKY_STORAGE_ACCESS_KEY=             # [required]
VICKY_STORAGE_SECRET_KEY=             # [required]
VICKY_STORAGE_BUCKET=vicky
VICKY_STORAGE_USE_SSL=false

# --- Encryption ---
# 64 hex characters (AES-256). Generate with: openssl rand -hex 32
VICKY_ENCRYPTION_KEY=                 # [required]

# --- Indexer Sidecars (gRPC) ---
VICKY_INDEXER_GO_ADDR=                # e.g. localhost:9090
VICKY_INDEXER_TS_ADDR=                # e.g. localhost:9091

# --- Observability (OpenTelemetry) ---
OTEL_EXPORTER_OTLP_ENDPOINT=          # e.g. http://localhost:4317
OTEL_SERVICE_NAME=vicky
